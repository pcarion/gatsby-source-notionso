{"componentChunkName":"component---src-templates-page-js","path":"/gatsby-source-notionso/getting-started","result":{"data":{"notionPageBlog":{"blocks":[{"blockId":"718ddd99-2bec-4d47-917c-bb075a216340","blockIds":["391cb1c3-bc97-4990-b0ac-7073b09e3106","e5766062-cfad-4e33-84ad-f9f5a6e9b3a4","5b2f4b4f-c1ba-4c8b-b53b-00ee84e43102","431f4a9b-7fc1-475a-ab04-92c2d47e4c5c","0885d4e8-5aee-494d-95a1-f1855524d281","da65caa8-197c-4e96-90d5-1a57c38f0aa5","a2bbbf81-f453-4591-9e6c-ca95726f1aa4","d97cdffc-0cc7-49fd-8a01-2179ce5c06fc","de953cbe-5466-4ed9-b8be-b71a17e05f38","a3d7fa9a-8a56-47fb-9226-2aa46313a6b8","1add160d-e05a-47fc-9468-d900ccbe0820","e1f990a3-ab33-483d-8e54-2aaec449bd50","129cb782-a3ad-4087-b88c-ce117bed44f5","a8b09a21-b6a7-4138-ab96-602e8a293de7","e5edbfc5-b612-48d8-b276-53cb8de9f170","11fe26b8-109d-4933-83ed-05da124c617c","0b928eca-5aab-4197-bcb4-07941bc51529","748ea38f-2f04-448f-a468-e574f98a646f","83b8b15b-f4c4-4232-96eb-b553731e87a8","46349332-1838-41ea-b54a-2e4cfaca705d","deb5ffe5-b63d-45b1-9dbc-a1dc3368d986","599af704-1a75-45b6-a011-4196c335d000","ef781e61-2779-4c44-9a30-7bc0abeb489c","e3dfae96-0098-4b5d-acb1-49f11e38395f","a45336dc-8e6a-464e-a1fa-21b497fe09ca","2b0b5ece-29e0-4e15-af1b-ff5b07120c67","eac8049c-3d69-4f0e-88af-4c5096c79d0e","99d6fa1c-4df8-428f-bd81-da8fbbb12638","e681287c-8e26-465e-a3c8-073b7197e27b","6a8f658e-aaef-42f9-a1f1-6d40ec127d52","b29ba139-298c-4802-a605-87e5ffef02c9"],"type":"page","attributes":[{"att":"pageIcon","value":"üèó"}],"properties":[{"propName":"title","value":[{"text":"Getting Started","atts":[]}]}]},{"blockId":"391cb1c3-bc97-4990-b0ac-7073b09e3106","blockIds":[],"type":"_meta","attributes":[],"properties":[{"propName":"title","value":[{"text":"slug: getting-started\ndate: 2020/01/12\ndraft: false","atts":[]}]}]},{"blockId":"e5766062-cfad-4e33-84ad-f9f5a6e9b3a4","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"The ","atts":[]},{"text":"gatsbsy-source-notionso","atts":[{"att":"c","value":null}]},{"text":" installations is a 3 steps process. ","atts":[]}]}]},{"blockId":"5b2f4b4f-c1ba-4c8b-b53b-00ee84e43102","blockIds":[],"type":"sub_header","attributes":[],"properties":[{"propName":"title","value":[{"text":"Install the plugin","atts":[]}]}]},{"blockId":"431f4a9b-7fc1-475a-ab04-92c2d47e4c5c","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"In your Gatsby project directory, you need to add the plugin as a dependency.","atts":[]}]}]},{"blockId":"0885d4e8-5aee-494d-95a1-f1855524d281","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"With ","atts":[]},{"text":"npm","atts":[{"att":"c","value":null}]},{"text":":","atts":[]}]}]},{"blockId":"da65caa8-197c-4e96-90d5-1a57c38f0aa5","blockIds":[],"type":"code","attributes":[],"properties":[{"propName":"title","value":[{"text":"npm install --save gatsby-source-notionso","atts":[]}]},{"propName":"language","value":[{"text":"JSON","atts":[]}]}]},{"blockId":"a2bbbf81-f453-4591-9e6c-ca95726f1aa4","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"With ","atts":[]},{"text":"yarn","atts":[{"att":"c","value":null}]},{"text":":","atts":[]}]}]},{"blockId":"d97cdffc-0cc7-49fd-8a01-2179ce5c06fc","blockIds":[],"type":"code","attributes":[],"properties":[{"propName":"title","value":[{"text":"yarn add gatsby-source-notionso","atts":[]}]},{"propName":"language","value":[{"text":"JSON","atts":[]}]}]},{"blockId":"de953cbe-5466-4ed9-b8be-b71a17e05f38","blockIds":[],"type":"sub_header","attributes":[],"properties":[{"propName":"title","value":[{"text":"Update your ","atts":[]},{"text":"gatsby-config.js","atts":[{"att":"c","value":null}]},{"text":" file","atts":[]}]}]},{"blockId":"a3d7fa9a-8a56-47fb-9226-2aa46313a6b8","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"You need then to add this new plugin in your ","atts":[]},{"text":"gatsby-config.js","atts":[{"att":"c","value":null}]},{"text":" file. ","atts":[]}]}]},{"blockId":"1add160d-e05a-47fc-9468-d900ccbe0820","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"Important","atts":[{"att":"b","value":null}]},{"text":": You also need to have the ","atts":[]},{"text":"gatsby-source-filesystem","atts":[{"att":"c","value":null}]},{"text":" plugin: this plugin will enhance your image nodes with the ","atts":[]},{"text":"publicURL","atts":[{"att":"c","value":null}]},{"text":" property which is required to serve your images.","atts":[]}]}]},{"blockId":"e1f990a3-ab33-483d-8e54-2aaec449bd50","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"Example of a minimal ","atts":[]},{"text":"gatsby-config.js","atts":[{"att":"c","value":null}]},{"text":" file","atts":[]}]}]},{"blockId":"129cb782-a3ad-4087-b88c-ce117bed44f5","blockIds":[],"type":"code","attributes":[],"properties":[{"propName":"title","value":[{"text":"module.exports = {\n  siteMetadata: {\n    title: 'gatsby-plugin-notionso example site',\n    description:\n      'series of article to explain how to use gatsby-plugin-notionso',\n    basePath: '/',\n  },\n  plugins: [\n    {\n      resolve: 'gatsby-source-notionso',\n      options: {\n        name: 'Blog',\n        rootPageUrl:\n          'https://www.notion.so/<your page here>',\n        debug: false,\n      },\n    },\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        name: `pages`,\n        path: `${__dirname}/src/pages`,\n      },\n    },\n  ],\n};","atts":[]}]},{"propName":"language","value":[{"text":"JavaScript","atts":[]}]}]},{"blockId":"a8b09a21-b6a7-4138-ab96-602e8a293de7","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"This plugin takes 3 parameters:","atts":[]}]}]},{"blockId":"e5edbfc5-b612-48d8-b276-53cb8de9f170","blockIds":[],"type":"bulleted_list","attributes":[],"properties":[{"propName":"title","value":[{"text":"name","atts":[{"att":"c","value":null}]},{"text":" : this is string which is used when generating the different nodes in the GraphQL tree. This name is useful if you want to use the plugin multiple times in your site with different Notion pages.","atts":[]}]}]},{"blockId":"11fe26b8-109d-4933-83ed-05da124c617c","blockIds":[],"type":"bulleted_list","attributes":[],"properties":[{"propName":"title","value":[{"text":"rootPageUrl","atts":[{"att":"c","value":null}]},{"text":": this is the public URL of your notion page.","atts":[]}]}]},{"blockId":"0b928eca-5aab-4197-bcb4-07941bc51529","blockIds":[],"type":"bulleted_list","attributes":[],"properties":[{"propName":"title","value":[{"text":"debug","atts":[{"att":"c","value":null}]},{"text":" : you can set this boolean to true to get extra logs on the screen. May be useful to help debug an issue with the plugin itself.","atts":[]}]}]},{"blockId":"748ea38f-2f04-448f-a468-e574f98a646f","blockIds":[],"type":"sub_header","attributes":[],"properties":[{"propName":"title","value":[{"text":"Create an index page","atts":[]}]}]},{"blockId":"83b8b15b-f4c4-4232-96eb-b553731e87a8","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"Usually, if used in the context of a blog for instance, you have a page listing all the pages available.","atts":[]}]}]},{"blockId":"46349332-1838-41ea-b54a-2e4cfaca705d","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"The structure of such a page component would be something like that:","atts":[]}]}]},{"blockId":"deb5ffe5-b63d-45b1-9dbc-a1dc3368d986","blockIds":[],"type":"code","attributes":[],"properties":[{"propName":"title","value":[{"text":"import React from 'react';\nimport Layout from '../components/Layout';\nimport ArticleBlockLink from '../components/ArticleBlockLink';\nimport { graphql } from 'gatsby';\n\nconst IndexPage = ({ data }) => {\n  return (\n    <Layout>\n      {data.allNotionPageBlog.edges.map(edge => (\n        <ArticleBlockLink\n          title={edge.node.title}\n          link={`/gatsby-source-notion-so/${edge.node.slug}`}\n          excerpt={edge.node.excerpt}\n          icon={edge.node.pageIcon}\n        />\n      ))}\n    </Layout>\n  );\n};\n\nexport default IndexPage;\n\nexport const query = graphql`\n  query {\n    allNotionPageBlog(\n      filter: { isDraft: { eq: false } }\n      sort: { fields: [indexPage], order: DESC }\n    ) {\n      edges {\n        node {\n          title\n          slug\n          excerpt\n          pageIcon\n        }\n      }\n    }\n  }\n`;","atts":[]}]},{"propName":"language","value":[{"text":"JavaScript","atts":[]}]}]},{"blockId":"599af704-1a75-45b6-a011-4196c335d000","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"This query collects all the pages which are not a draft and orders page following the inverse order of the root Notion page.","atts":[]}]}]},{"blockId":"ef781e61-2779-4c44-9a30-7bc0abeb489c","blockIds":[],"type":"sub_header","attributes":[],"properties":[{"propName":"title","value":[{"text":"Creating individual pages ","atts":[]}]}]},{"blockId":"e3dfae96-0098-4b5d-acb1-49f11e38395f","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"In order to create the individual pages, which are linked from the index page, you need to create the usual ","atts":[]},{"text":"gatsby-node.js","atts":[{"att":"c","value":null}]},{"text":" file like this one:","atts":[]}]}]},{"blockId":"a45336dc-8e6a-464e-a1fa-21b497fe09ca","blockIds":[],"type":"code","attributes":[],"properties":[{"propName":"title","value":[{"text":"exports.createPages = async ({ graphql, actions, reporter }, options) => {\n  const { createPage } = actions;\n\n  const pageTemplate = require.resolve('./src/templates/page.js');\n\n  const result = await graphql(\n    `\n      query {\n        allNotionPageBlog {\n          edges {\n            node {\n              pageId\n              slug\n            }\n          }\n        }\n      }\n    `,\n  );\n  if (result.errors) {\n    reporter.panic('error loading events', result.errors);\n    return;\n  }\n\n  result.data.allNotionPageBlog.edges.forEach(({ node }) => {\n    const path = `/gatsby-source-notion-so/${node.slug}`;\n    createPage({\n      path,\n      component: pageTemplate,\n      context: {\n        pathSlug: path,\n        pageId: node.pageId,\n      },\n    });\n  });\n};","atts":[]}]},{"propName":"language","value":[{"text":"JavaScript","atts":[]}]}]},{"blockId":"2b0b5ece-29e0-4e15-af1b-ff5b07120c67","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"The associated template page is like this:","atts":[]}]}]},{"blockId":"eac8049c-3d69-4f0e-88af-4c5096c79d0e","blockIds":[],"type":"code","attributes":[],"properties":[{"propName":"title","value":[{"text":"import React from 'react';\nimport { graphql } from 'gatsby';\nimport notionRendererFactory from 'gatsby-source-notionso/lib/renderer';\nimport Layout from '../components/Layout';\nimport NotionBlockRenderer from '../components/notionBlockRenderer';\n\nconst Template = ({ data, pageContext }) => {\n  const notionRenderer = notionRendererFactory({\n    notionPage: data.notionPageBlog,\n  });\n  return (\n    <Layout meta>\n      <NotionBlockRenderer\n        data={data}\n        renderer={notionRenderer}\n        debug={false}\n      />\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query($pageId: String!) {\n    notionPageBlog(pageId: { eq: $pageId }) {\n      blocks {\n        blockId\n        blockIds\n        type\n        attributes {\n          att\n          value\n        }\n        properties {\n          propName\n          value {\n            text\n            atts {\n              att\n              value\n            }\n          }\n        }\n      }\n      imageNodes {\n        imageUrl\n        localFile {\n          publicURL\n        }\n      }\n      pageId\n      slug\n      title\n      isDraft\n      id\n      indexPage\n    }\n  }\n`;\n\nexport default Template;","atts":[]}]},{"propName":"language","value":[{"text":"JavaScript","atts":[]}]}]},{"blockId":"99d6fa1c-4df8-428f-bd81-da8fbbb12638","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"as the data coming back from the notion API are kind of difficult to easily process, the plugin comes with a utility to make that rendering easy:","atts":[]}]}]},{"blockId":"e681287c-8e26-465e-a3c8-073b7197e27b","blockIds":[],"type":"code","attributes":[],"properties":[{"propName":"title","value":[{"text":"import notionRendererFactory from 'gatsby-source-notionso/lib/renderer';","atts":[]}]},{"propName":"language","value":[{"text":"JavaScript","atts":[]}]}]},{"blockId":"6a8f658e-aaef-42f9-a1f1-6d40ec127d52","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"Check the repo of the sample for now.. more information will be available soon.","atts":[]}]}]},{"blockId":"b29ba139-298c-4802-a605-87e5ffef02c9","blockIds":[],"type":"text","attributes":[],"properties":[{"propName":"title","value":[{"text":"https://github.com/pcarion/gatsby-source-notionso/tree/master/examples/plugin-site","atts":[{"att":"a","value":"https://github.com/pcarion/gatsby-source-notionso/tree/master/examples/plugin-site"}]}]}]}],"imageNodes":[],"pageId":"718ddd99-2bec-4d47-917c-bb075a216340","slug":"getting-started","title":"Getting Started","isDraft":false,"id":"69dbe8bf-3baa-51da-afde-e4c2e9c473e4","indexPage":3}},"pageContext":{"pathSlug":"/gatsby-source-notionso/getting-started","pageId":"718ddd99-2bec-4d47-917c-bb075a216340"}}}